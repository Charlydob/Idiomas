:root{
  --bg:#0f1115; --panel:#141823; --card:#171b26; --text:#e7ecff; --muted:#a8b0c3;
  --primary:#7aa2ff; --success:#6ee7b7; --warn:#ffb366; --danger:#ff6b6b;
  --glass:rgba(255,255,255,0.06); --border:rgba(255,255,255,0.08);
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,0.35);
}
*{box-sizing:border-box}
html,body{height:100%}
html{background:#0b0e13}
body{
  margin:0; color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  background:
    radial-gradient(1200px 800px at 20% -10%, #223, transparent 60%),
    radial-gradient(1000px 700px at 120% 10%, #16203a, transparent 55%),
    linear-gradient(180deg, #0b0e13, #0b0e13);
  overscroll-behavior:none;
  height:100dvh; overflow:hidden;
  -webkit-text-size-adjust:100%;
  font-size:16px;             /* evita zoom en focus iOS */
  touch-action:manipulation;  /* evita doble-tap zoom */
}
button, input, select, textarea{ font-size:16px; touch-action:manipulation }

#app{max-width:420px; margin:0 auto; height:100%; min-height:100%; display:flex; flex-direction:column}

.topbar{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; justify-content:space-between;
  padding: calc(18px + env(safe-area-inset-top)) 16px 16px;  /* + espacio arriba */
  background:linear-gradient(180deg, rgba(20,24,35,.95), rgba(20,24,35,.65));
  backdrop-filter:blur(8px);
  border-bottom:1px solid var(--border);
}
.brand{font-weight:700; letter-spacing:.3px}
.icon-btn{border:1px solid var(--border); background:var(--glass); color:var(--text); padding:8px 10px; border-radius:10px}

.bottombar{
  position:sticky; bottom:0; z-index:5;
  display:grid; grid-template-columns:1fr 1fr 1fr;
  gap:10px; padding:10px 12px calc(10px + env(safe-area-inset-bottom));
  background:linear-gradient(180deg, rgba(20,24,35,.2), rgba(20,24,35,.85));
  backdrop-filter:blur(8px);
  border-top:1px solid var(--border);
}

.tablink{border:1px solid var(--border); background:var(--glass); padding:10px 0; border-radius:12px; color:var(--muted)}
.tablink.active{color:var(--text); border-color:rgba(122,162,255,.5)}

.screen{flex:1; padding:14px 12px; overflow:auto; -webkit-overflow-scrolling:touch}
.tabs{display:none}
.panel{display:none}
.panel.active{display:block}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); padding:14px;
}

.row{display:flex; gap:8px; margin-top:10px; flex-wrap:wrap}
.row2{display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-top:10px}
.stick{position:sticky; top:8px; z-index:2; background:transparent; padding-bottom:6px}

button, select, input, textarea{
  background:var(--panel); color:var(--text);
  border:1px solid var(--border); border-radius:12px; padding:10px 12px; outline:none;
}
textarea{width:100%; resize:vertical}
select, input[type="search"]{flex:1}

.primary{background:linear-gradient(180deg, rgba(122,162,255,.25), rgba(122,162,255,.15)); border-color:rgba(122,162,255,.4)}
.success{background:linear-gradient(180deg, rgba(110,231,183,.25), rgba(110,231,183,.15)); border-color:rgba(110,231,183,.4)}
.warn{background:linear-gradient(180deg, rgba(255,179,102,.25), rgba(255,179,102,.15)); border-color:rgba(255,179,102,.4)}
.ghost{background:var(--glass)}

.hint{color:var(--muted); font-size:.9rem}
.sample{background:#0e1220; border:1px dashed var(--border); padding:10px; border-radius:12px; overflow:auto; max-height:140px}
.sample.small{max-height:100px}

.list{display:flex; flex-direction:column; gap:10px; margin-top:12px; overflow-x:auto}
.card-item{background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.01)); border:1px solid var(--border); border-radius:12px; padding:10px}
.item-top{display:flex; justify-content:space-between; gap:8px; align-items:center}
.pill{font-size:.8rem; color:#cfe0ff; background:rgba(122,162,255,.14); border:1px solid rgba(122,162,255,.3); padding:4px 8px; border-radius:999px}
.tagrow{display:flex; gap:6px; flex-wrap:wrap}
.tag{font-size:.75rem; color:#dfe; background:rgba(110,231,183,.12); border:1px solid rgba(110,231,183,.3); padding:2px 8px; border-radius:999px}

.meta{color:var(--muted); font-size:.95rem}
.ale{font-size:1.05rem; font-weight:700}
.reveal{margin-top:10px; padding-top:8px; border-top:1px dashed var(--border)}
.controls{display:flex; gap:8px; margin-top:8px}

.quiz.hidden{display:none}
.quiz-card{background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid var(--border); border-radius:14px; padding:12px}

.settings{max-width:420px; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03)); color:var(--text); border-radius:16px}
.settings::backdrop{background:rgba(0,0,0,.6)}
.settings form{padding:12px}
.settings details{border:1px solid var(--border); border-radius:12px; padding:8px; margin:8px 0; background:var(--glass)}
.settings summary{cursor:pointer}
.chiprow{display:flex; gap:8px; flex-wrap:wrap}
.chip{background:var(--glass); border:1px solid var(--border); padding:6px 10px; border-radius:999px; font-size:.85rem}
